!function(){"use strict";function e(e,t,n){e.$parent.title="Dive Into",e.$parent.transparentNav=!0,e.getUmi=function(o){return o?void t.path("/board/"+o):e.searchUmiResults?(n.error("No URI argument present"),!1):(n.error("No URI argument present"),!1)}}angular.module("omApp").controller("DiveController",e),e.$inject=["$scope","$location","$log"]}(),function(){"use strict";function e(e,t,n){e.title="Page",e.siteName=appConfig.siteName,e.siteLanguage=appConfig.siteLanguage,e.description=appConfig.description[appConfig.siteLanguage],e.$watch(function(){return t.path()},function(){var o=t.url().split("/");e.path=""==o[1]?"dive":o[1],n.ga("send","pageview",{page:t.path()})})}angular.module("omApp").controller("GlobalController",e),e.$inject=["$scope","$location","$window"]}(),function(){"use strict";function e(e,t){function n(n){var o=2500;t.subscribe(function(t){n.notification=t,n.act=!0,e(function(){n.act=!1},o)})}var o={restrict:"EA",templateUrl:"app/sections/section.global/notification.layout.html",scope:{},replace:!0,link:n};return o}angular.module("omApp").directive("notificationDirective",e),e.$inject=["$timeout","notification"]}(),function(){"use strict";function e(e,t){function n(e){r.push(e)}function o(e,n){var o={message:e,type:n};switch(n){case"info":t.info(e);break;case"warning":t.warn(e);break;case"error":t.error(e);break;case"success":t.success(e);break;default:n="info",t.info(e)}_.forEach(r,function(e){e(o)})}console.log("oh");var r=[];return{subscribe:n,generate:o}}angular.module("omApp").factory("notification",e),e.$inject=["$timeout","$log"]}(),function(){"use strict";function e(e,t,n){var o=40,r=38,a=13,i=40;e.searchResultsNavigate=function(t,n,i){if(!t)return!1;var c=_.keys(t.data).length,s=t.currentSelection;if(n.keyCode==a)if(n.preventDefault(),"getUmi"==_.first(i)){var u=e.searchResults.data[e.searchResults.currentSelection].uriFriendlyTitle;e.$parent[i](u)}else"autocomplete"==_.first(i)&&e.autocomplete(i[1]);return n.keyCode==r&&s>0?(n.preventDefault(),t.currentSelection=s-1):n.keyCode==o&&c-1>s&&(n.preventDefault(),t.currentSelection=s+1),!1},e.search=function(o,r,a){r&&(e.showAutocomplete=!0);var i=function(t,n){var o=t.split("."),r=_.first(o);return o.length>1?(o.reverse().pop(),i(o.reverse().join("."),e[r])):n?n[r]:e[r]},i=i(o,!1),s=i.length;s>0?(a&&c(s),t.get(appConfig.apiUrl+"/search/"+i).success(function(t){if(t.length>0){var o={currentSelection:0,data:t};e.searchResults=o}else e.searchResults=!1,n.generate("No results found :-(","info",e.$parent.$parent)}).error(function(){n.generate("There was an error with the connection to our API.","error",e.$parent.$parent)})):e.searchResults=!1},e.autocomplete=function(t,n){var o=e.searchResults,r=n?o.data[n]:o.data[o.currentSelection];if(e.createUmiForm[t]="",e.showAutocomplete=!1,e.searchResults=!1,e.autocompleteData[t])e.autocompleteData[t][r.id]=r.title;else{var a={};a[r.id]=r.title,e.autocompleteData[t]=a}},e.removeUmiId=function(t,n){delete e.autocompleteData[t][n]};var c=function(e){if(i>e){var t=e*(100/i)+"%";document.getElementById("masthead").style.backgroundPositionY=t}}}angular.module("omApp").controller("SearchController",e),e.$inject=["$scope","$http","notification"]}();