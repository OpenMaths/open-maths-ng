!function(){"use strict";function e(e,t,n){e.$parent.title="Dive Into",e.$parent.transparentNav=!0,e.getUmi=function(r){return r?void t.path("/board/"+r):e.searchUmiResults?(n.error("No URI argument present"),!1):(n.error("No URI argument present"),!1)}}angular.module("omApp").controller("DiveController",e),e.$inject=["$scope","$location","$log"]}(),function(){"use strict";function e(e,t,n){e.title="Page",e.siteName=appConfig.siteName,e.siteLanguage=appConfig.siteLanguage,e.description=appConfig.description[appConfig.siteLanguage],e.$watch(function(){return t.path()},function(){var r=t.url().split("/");e.path=""==r[1]?"dive":r[1],n.ga("send","pageview",{page:t.path()})})}angular.module("omApp").controller("GlobalController",e),e.$inject=["$scope","$location","$window"]}(),function(){"use strict";function e(e,t){function n(n){var r=2500;t.subscribe(function(t){n.notification=t,n.act=!0,e(function(){n.act=!1},r)})}var r={restrict:"EA",templateUrl:"app/sections/section.global/notification.layout.html",scope:{},replace:!0,link:n};return r}angular.module("omApp").directive("notificationDirective",e),e.$inject=["$timeout","notification"]}(),function(){"use strict";function e(e){function t(e){r.push(e)}function n(t,n){switch(n){case"info":e.info(t);break;case"warning":e.warn(t);break;case"error":e.error(t);break;case"success":e.success(t);break;default:n="info",e.info(t)}var o={message:t,type:n};_.forEach(r,function(e){e(o)})}var r=[];return{subscribe:t,generate:n}}angular.module("omApp").factory("notification",e),e.$inject=["$log"]}(),function(){"use strict";function e(e,t,n){var r=40,o=38,a=13,i=40;e.searchResultsNavigate=function(t,n,i){if(!t)return!1;var c=_.keys(t.data).length,s=t.currentSelection;if(n.keyCode==a)if(n.preventDefault(),"getUmi"==_.first(i)){var u=e.searchResults.data[e.searchResults.currentSelection].uriFriendlyTitle;e.$parent[i](u)}else"autocomplete"==_.first(i)&&e.autocomplete(i[1]);return n.keyCode==o&&s>0?(n.preventDefault(),t.currentSelection=s-1):n.keyCode==r&&c-1>s&&(n.preventDefault(),t.currentSelection=s+1),!1},e.search=function(r,o,a){o&&(e.showAutocomplete=!0);var i=function(t,n){var r=t.split("."),o=_.first(r);return r.length>1?(r.reverse().pop(),i(r.reverse().join("."),e[o])):n?n[o]:e[o]},i=i(r,!1),s=i.length;s>0?(a&&c(s),t.get(appConfig.apiUrl+"/search/"+i).success(function(t){if(t.length>0){var r={currentSelection:0,data:t};e.searchResults=r}else e.searchResults=!1,n.generate("No results found :-(","info",e.$parent.$parent)}).error(function(){n.generate("There was an error with the connection to our API.","error",e.$parent.$parent)})):e.searchResults=!1},e.autocomplete=function(t,n){var r=e.searchResults,o=n?r.data[n]:r.data[r.currentSelection];if(e.createUmiForm[t]="",e.showAutocomplete=!1,e.searchResults=!1,e.autocompleteData[t])e.autocompleteData[t][o.id]=o.title;else{var a={};a[o.id]=o.title,e.autocompleteData[t]=a}},e.removeUmiId=function(t,n){delete e.autocompleteData[t][n]};var c=function(e){if(i>e){var t=e*(100/i)+"%";document.getElementById("masthead").style.backgroundPositionY=t}}}angular.module("omApp").controller("SearchController",e),e.$inject=["$scope","$http","notification"]}();